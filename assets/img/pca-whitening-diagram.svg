<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 280" font-family="'Segoe UI', Arial, sans-serif">
  <!-- Background -->
  <rect width="900" height="280" fill="#fafafa" rx="8"/>

  <!-- Step 1: Original correlated data -->
  <g transform="translate(110,130)">
    <line x1="-70" y1="0" x2="70" y2="0" stroke="#ccc" stroke-width="1"/>
    <line x1="0" y1="-70" x2="0" y2="70" stroke="#ccc" stroke-width="1"/>
    <ellipse cx="8" cy="-5" rx="55" ry="22" fill="rgba(66,133,244,0.15)" stroke="#4285f4" stroke-width="1.5" transform="rotate(-35)"/>
    <!-- Data points -->
    <circle cx="-30" cy="18" r="2.5" fill="#4285f4"/>
    <circle cx="-18" cy="12" r="2.5" fill="#4285f4"/>
    <circle cx="-8" cy="5" r="2.5" fill="#4285f4"/>
    <circle cx="5" cy="-2" r="2.5" fill="#4285f4"/>
    <circle cx="15" cy="-10" r="2.5" fill="#4285f4"/>
    <circle cx="28" cy="-18" r="2.5" fill="#4285f4"/>
    <circle cx="38" cy="-25" r="2.5" fill="#4285f4"/>
    <circle cx="-22" cy="8" r="2.5" fill="#4285f4"/>
    <circle cx="10" cy="-5" r="2.5" fill="#4285f4"/>
    <circle cx="22" cy="-15" r="2.5" fill="#4285f4"/>
    <circle cx="-35" cy="22" r="2.5" fill="#4285f4"/>
    <circle cx="32" cy="-20" r="2.5" fill="#4285f4"/>
    <text x="0" y="90" text-anchor="middle" font-size="13" font-weight="600" fill="#333">Original Data</text>
    <text x="0" y="108" text-anchor="middle" font-size="11" fill="#888">Correlated</text>
  </g>

  <!-- Arrow 1 -->
  <g transform="translate(200,130)">
    <line x1="8" y1="0" x2="55" y2="0" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead)"/>
    <text x="32" y="-10" text-anchor="middle" font-size="10" fill="#666" font-style="italic">U&#x1D40; X</text>
  </g>

  <!-- Step 2: Rotated (decorrelated) data -->
  <g transform="translate(340,130)">
    <line x1="-70" y1="0" x2="70" y2="0" stroke="#ccc" stroke-width="1"/>
    <line x1="0" y1="-70" x2="0" y2="70" stroke="#ccc" stroke-width="1"/>
    <ellipse cx="0" cy="0" rx="55" ry="20" fill="rgba(234,67,53,0.12)" stroke="#ea4335" stroke-width="1.5"/>
    <!-- Data points axis-aligned -->
    <circle cx="-42" cy="2" r="2.5" fill="#ea4335"/>
    <circle cx="-28" cy="-8" r="2.5" fill="#ea4335"/>
    <circle cx="-15" cy="5" r="2.5" fill="#ea4335"/>
    <circle cx="-5" cy="-3" r="2.5" fill="#ea4335"/>
    <circle cx="8" cy="7" r="2.5" fill="#ea4335"/>
    <circle cx="20" cy="-5" r="2.5" fill="#ea4335"/>
    <circle cx="32" cy="3" r="2.5" fill="#ea4335"/>
    <circle cx="45" cy="-2" r="2.5" fill="#ea4335"/>
    <circle cx="-35" cy="-4" r="2.5" fill="#ea4335"/>
    <circle cx="12" cy="-8" r="2.5" fill="#ea4335"/>
    <circle cx="38" cy="6" r="2.5" fill="#ea4335"/>
    <circle cx="-48" cy="-1" r="2.5" fill="#ea4335"/>
    <text x="0" y="90" text-anchor="middle" font-size="13" font-weight="600" fill="#333">Rotated</text>
    <text x="0" y="108" text-anchor="middle" font-size="11" fill="#888">Decorrelated (PCA space)</text>
  </g>

  <!-- Arrow 2 -->
  <g transform="translate(430,130)">
    <line x1="8" y1="0" x2="55" y2="0" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead)"/>
    <text x="32" y="-10" text-anchor="middle" font-size="10" fill="#666" font-style="italic">&#x39B;&#x207B;&#xBD;</text>
  </g>

  <!-- Step 3: PCA Whitened data -->
  <g transform="translate(570,130)">
    <line x1="-70" y1="0" x2="70" y2="0" stroke="#ccc" stroke-width="1"/>
    <line x1="0" y1="-70" x2="0" y2="70" stroke="#ccc" stroke-width="1"/>
    <circle cx="0" cy="0" r="38" fill="rgba(52,168,83,0.12)" stroke="#34a853" stroke-width="1.5"/>
    <!-- Data points spherical -->
    <circle cx="-25" cy="10" r="2.5" fill="#34a853"/>
    <circle cx="-15" cy="-22" r="2.5" fill="#34a853"/>
    <circle cx="-8" cy="18" r="2.5" fill="#34a853"/>
    <circle cx="5" cy="-12" r="2.5" fill="#34a853"/>
    <circle cx="12" cy="25" r="2.5" fill="#34a853"/>
    <circle cx="22" cy="-15" r="2.5" fill="#34a853"/>
    <circle cx="18" cy="8" r="2.5" fill="#34a853"/>
    <circle cx="-20" cy="-16" r="2.5" fill="#34a853"/>
    <circle cx="28" cy="3" r="2.5" fill="#34a853"/>
    <circle cx="-30" cy="-5" r="2.5" fill="#34a853"/>
    <circle cx="8" cy="-28" r="2.5" fill="#34a853"/>
    <circle cx="-5" cy="30" r="2.5" fill="#34a853"/>
    <text x="0" y="90" text-anchor="middle" font-size="13" font-weight="600" fill="#333">PCA Whitened</text>
    <text x="0" y="108" text-anchor="middle" font-size="11" fill="#888">Cov = I (spherical)</text>
  </g>

  <!-- Arrow 3 (optional ZCA) -->
  <g transform="translate(660,130)">
    <line x1="8" y1="0" x2="55" y2="0" stroke="#666" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrowhead)"/>
    <text x="32" y="-10" text-anchor="middle" font-size="10" fill="#666" font-style="italic">U</text>
  </g>

  <!-- Step 4: ZCA Whitened -->
  <g transform="translate(800,130)">
    <line x1="-70" y1="0" x2="70" y2="0" stroke="#ccc" stroke-width="1"/>
    <line x1="0" y1="-70" x2="0" y2="70" stroke="#ccc" stroke-width="1"/>
    <circle cx="0" cy="0" r="38" fill="rgba(251,188,4,0.15)" stroke="#fbbc04" stroke-width="1.5"/>
    <!-- Data points spherical but rotated back -->
    <circle cx="-18" cy="20" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="-25" cy="-10" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="-10" cy="12" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="2" cy="-18" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="20" cy="15" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="15" cy="-22" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="25" cy="5" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="-28" cy="2" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="10" cy="28" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="-15" cy="-25" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="30" cy="-8" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <circle cx="-5" cy="-30" r="2.5" fill="#fbbc04" stroke="#e8a800" stroke-width="0.5"/>
    <text x="0" y="90" text-anchor="middle" font-size="13" font-weight="600" fill="#333">ZCA Whitened</text>
    <text x="0" y="108" text-anchor="middle" font-size="11" fill="#888">Cov = I (original axes)</text>
  </g>

  <!-- Arrowhead marker -->
  <defs>
    <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#666"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="450" y="24" text-anchor="middle" font-size="15" font-weight="700" fill="#333">The Whitening Pipeline</text>
</svg>
